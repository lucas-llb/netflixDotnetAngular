{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lucas/OneDrive/Documents/Github/netflixProjectFrontAngular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./serie.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./serie.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { SerieService } from '../../services/serie.service';\nimport { environment } from '../../environment';\nimport { ActivatedRoute, Router } from '@angular/router';\nlet SerieComponent = class SerieComponent {\n  router;\n  route;\n  serieService;\n  serie;\n  liked = false;\n  favorited = false;\n  loading = true;\n  backendApiUrl = environment.BACKEND_API_URL;\n  constructor(router, route, serieService) {\n    this.router = router;\n    this.route = route;\n    this.serieService = serieService;\n  }\n  ngOnInit() {\n    if (!sessionStorage.getItem('netflix-token')) {\n      this.router.navigate(['/login']);\n    } else {\n      this.loading = false;\n    }\n    this.route.paramMap.subscribe(params => {\n      const id = params.get('id');\n      if (id) {\n        this.getSerie(id);\n      }\n    });\n  }\n  getSerie(id) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.serieService.getEpisodes(id).subscribe({\n        next: res => {\n          _this.serie = res.data;\n          _this.liked = res.data.liked;\n          _this.favorited = res.data.favorited;\n        }\n      });\n    })();\n  }\n  handleLikeSerie() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (_this2.liked) {\n        _this2.serieService.removeLike(_this2.serie.id).subscribe({\n          next: () => {\n            _this2.liked = false;\n          }\n        });\n      } else {\n        _this2.serieService.addLike(_this2.serie.id).subscribe({\n          next: () => {\n            _this2.liked = true;\n          }\n        });\n      }\n    })();\n  }\n  handleFavoriteSerie() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (_this3.favorited) {\n        _this3.serieService.removeFavorite(_this3.serie.id).subscribe({\n          next: () => {\n            _this3.favorited = false;\n          }\n        });\n      } else {\n        _this3.serieService.addToFavorite(_this3.serie.id).subscribe({\n          next: () => {\n            _this3.favorited = true;\n          }\n        });\n      }\n    })();\n  }\n  watchNow() {\n    // Implement watch now functionality\n  }\n  static ctorParameters = () => [{\n    type: Router\n  }, {\n    type: ActivatedRoute\n  }, {\n    type: SerieService\n  }];\n};\nSerieComponent = __decorate([Component({\n  selector: 'app-serie',\n  standalone: true,\n  imports: [],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], SerieComponent);\nexport { SerieComponent };","map":{"version":3,"names":["Component","SerieService","environment","ActivatedRoute","Router","SerieComponent","router","route","serieService","serie","liked","favorited","loading","backendApiUrl","BACKEND_API_URL","constructor","ngOnInit","sessionStorage","getItem","navigate","paramMap","subscribe","params","id","get","getSerie","_this","_asyncToGenerator","getEpisodes","next","res","data","handleLikeSerie","_this2","removeLike","addLike","handleFavoriteSerie","_this3","removeFavorite","addToFavorite","watchNow","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0"],"sources":["C:\\Users\\lucas\\OneDrive\\Documents\\Github\\netflixProjectFrontAngular\\src\\app\\pages\\serie\\serie.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { SerieService, SerieType } from '../../services/serie.service';\r\nimport { environment } from '../../environment';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-serie',\r\n  standalone: true,\r\n  imports: [],\r\n  templateUrl: './serie.component.html',\r\n  styleUrl: './serie.component.scss'\r\n})\r\nexport class SerieComponent implements OnInit {\r\n  serie: SerieType;\r\n  liked = false;\r\n  favorited = false;\r\n  loading = true;\r\n  backendApiUrl = environment.BACKEND_API_URL;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private serieService: SerieService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    if (!sessionStorage.getItem('netflix-token')) {\r\n      this.router.navigate(['/login']);\r\n    } else {\r\n      this.loading = false;\r\n    }\r\n\r\n    this.route.paramMap.subscribe(params => {\r\n      const id = params.get('id');\r\n      if (id) {\r\n        this.getSerie(id);\r\n      }\r\n    });\r\n  }\r\n\r\n  async getSerie(id: string): Promise<void> {\r\n    this.serieService.getEpisodes(id).subscribe({\r\n      next: (res) => {\r\n        this.serie = res.data;\r\n        this.liked = res.data.liked;\r\n        this.favorited = res.data.favorited;\r\n      }\r\n    });\r\n  }\r\n\r\n  async handleLikeSerie(): Promise<void> {\r\n    if (this.liked) {\r\n      this.serieService.removeLike(this.serie.id).subscribe({\r\n        next: () => {\r\n          this.liked = false;\r\n        }\r\n      });\r\n    } else {\r\n      this.serieService.addLike(this.serie.id).subscribe({\r\n        next: () => {\r\n          this.liked = true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  async handleFavoriteSerie(): Promise<void> {\r\n    if (this.favorited) {\r\n      this.serieService.removeFavorite(this.serie.id).subscribe({\r\n        next: () => {\r\n          this.favorited = false;\r\n        }\r\n      });\r\n    } else {\r\n      this.serieService.addToFavorite(this.serie.id).subscribe({\r\n        next: () => {\r\n          this.favorited = true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  watchNow(): void {\r\n    // Implement watch now functionality\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}