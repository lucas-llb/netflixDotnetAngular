{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/lucas/OneDrive/Documents/Github/netflixProjectFrontAngular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./search.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./search.component.scss?ngResource\";\nimport { Component } from '@angular/core';\nimport { Router, RouterModule } from '@angular/router';\nimport { SerieService } from '../../services/serie.service';\nimport { SpinnerComponent } from '../../components/common/spinner/spinner.component';\nimport { HeaderAuthComponent } from '../../components/common/header-auth/header-auth.component';\nimport { SearchCardComponent } from '../../components/search-card/search-card.component';\nimport { FooterComponent } from '../../components/common/footer/footer.component';\nimport { CommonModule } from '@angular/common';\nlet SearchComponent = class SearchComponent {\n  router;\n  serieService;\n  searchName = null;\n  searchResult = [];\n  loading = true;\n  constructor(router, serieService) {\n    this.router = router;\n    this.serieService = serieService;\n  }\n  searchSeries() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.searchName) {\n        _this.serieService.getSearch(_this.searchName).subscribe({\n          next: res => {\n            _this.searchResult = res.data.series;\n          }\n        });\n      }\n    })();\n  }\n  ngOnInit() {\n    this.searchName = this.router.url.split('?name=')[1];\n    this.searchSeries();\n    if (!sessionStorage.getItem('netflix-token')) {\n      this.router.navigate(['/login']);\n    } else {\n      this.loading = false;\n    }\n  }\n  static ctorParameters = () => [{\n    type: Router\n  }, {\n    type: SerieService\n  }];\n};\nSearchComponent = __decorate([Component({\n  selector: 'app-search',\n  standalone: true,\n  template: __NG_CLI_RESOURCE__0,\n  imports: [SpinnerComponent, HeaderAuthComponent, SearchCardComponent, FooterComponent, RouterModule, CommonModule],\n  styles: [__NG_CLI_RESOURCE__1]\n})], SearchComponent);\nexport { SearchComponent };","map":{"version":3,"names":["Component","Router","RouterModule","SerieService","SpinnerComponent","HeaderAuthComponent","SearchCardComponent","FooterComponent","CommonModule","SearchComponent","router","serieService","searchName","searchResult","loading","constructor","searchSeries","_this","_asyncToGenerator","getSearch","subscribe","next","res","data","series","ngOnInit","url","split","sessionStorage","getItem","navigate","__decorate","selector","standalone","template","__NG_CLI_RESOURCE__0","imports"],"sources":["C:\\Users\\lucas\\OneDrive\\Documents\\Github\\netflixProjectFrontAngular\\src\\app\\pages\\search\\search.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, RouterModule } from '@angular/router';\r\nimport { SerieService, SerieType } from '../../services/serie.service';\r\nimport { SpinnerComponent } from '../../components/common/spinner/spinner.component';\r\nimport { HeaderAuthComponent } from '../../components/common/header-auth/header-auth.component';\r\nimport { SearchCardComponent } from '../../components/search-card/search-card.component';\r\nimport { FooterComponent } from '../../components/common/footer/footer.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  standalone: true,\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.scss'],\r\n  imports: [SpinnerComponent, HeaderAuthComponent, SearchCardComponent, FooterComponent, RouterModule, CommonModule],\r\n})\r\nexport class SearchComponent implements OnInit {\r\n  searchName: string | null = null;\r\n  searchResult: SerieType[] = [];\r\n  loading: boolean = true;\r\n\r\n  constructor(private router: Router, private serieService: SerieService) {}\r\n\r\n  async searchSeries() {\r\n    if (this.searchName) {\r\n      this.serieService.getSearch(this.searchName).subscribe({\r\n        next: (res) => {\r\n          this.searchResult = res.data.series;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.searchName = this.router.url.split('?name=')[1];\r\n    this.searchSeries();\r\n\r\n    if (!sessionStorage.getItem('netflix-token')) {\r\n      this.router.navigate(['/login']);\r\n    } else {\r\n      this.loading = false;\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,MAAM,EAAEC,YAAY,QAAQ,iBAAiB;AACtD,SAASC,YAAY,QAAmB,8BAA8B;AACtE,SAASC,gBAAgB,QAAQ,mDAAmD;AACpF,SAASC,mBAAmB,QAAQ,2DAA2D;AAC/F,SAASC,mBAAmB,QAAQ,oDAAoD;AACxF,SAASC,eAAe,QAAQ,iDAAiD;AACjF,SAASC,YAAY,QAAQ,iBAAiB;AASvC,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAKNC,MAAA;EAAwBC,YAAA;EAJ5CC,UAAU,GAAkB,IAAI;EAChCC,YAAY,GAAgB,EAAE;EAC9BC,OAAO,GAAY,IAAI;EAEvBC,YAAoBL,MAAc,EAAUC,YAA0B;IAAlD,KAAAD,MAAM,GAANA,MAAM;IAAkB,KAAAC,YAAY,GAAZA,YAAY;EAAiB;EAEnEK,YAAYA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAChB,IAAID,KAAI,CAACL,UAAU,EAAE;QACnBK,KAAI,CAACN,YAAY,CAACQ,SAAS,CAACF,KAAI,CAACL,UAAU,CAAC,CAACQ,SAAS,CAAC;UACrDC,IAAI,EAAGC,GAAG,IAAI;YACZL,KAAI,CAACJ,YAAY,GAAGS,GAAG,CAACC,IAAI,CAACC,MAAM;UACrC;SACD,CAAC;MACJ;IAAC;EACH;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACb,UAAU,GAAG,IAAI,CAACF,MAAM,CAACgB,GAAG,CAACC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IACpD,IAAI,CAACX,YAAY,EAAE;IAEnB,IAAI,CAACY,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC,EAAE;MAC5C,IAAI,CAACnB,MAAM,CAACoB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC,MAAM;MACL,IAAI,CAAChB,OAAO,GAAG,KAAK;IACtB;EACF;;;;;;;AA1BWL,eAAe,GAAAsB,UAAA,EAP3B/B,SAAS,CAAC;EACTgC,QAAQ,EAAE,YAAY;EACtBC,UAAU,EAAE,IAAI;EAChBC,QAAA,EAAAC,oBAAsC;EAEtCC,OAAO,EAAE,CAAChC,gBAAgB,EAAEC,mBAAmB,EAAEC,mBAAmB,EAAEC,eAAe,EAAEL,YAAY,EAAEM,YAAY,CAAC;;CACnH,CAAC,C,EACWC,eAAe,CA2B3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}